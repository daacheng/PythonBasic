# 网络基础知识
## 一、计算机网络出现的背景
**独立模式到互连模式**最初，计算机单机模式（独立模式）被广泛使用，慢慢地发展为将一个个计算机连接起来的模式，实现计算机间的信息共享，形成计算机网络（局域网，广域网）。

最初的管理员将几台计算机（同一公司、实验室）连接起来形成的计算机网络是一种私有网络，随着私有网络不断发展，将多个私有网络连接形成更大的私有网络，这种网络逐渐演变成互联网为公众使用。
## 二、计算机与网络发展的七个阶段
### 2.1、批处理系统(Batch Processing)
20世纪50年代，人们开始使用晶体管代替真空管来制作计算机，使计算机的体积大大减小，功耗显著降低，同时可靠性也得到大幅度提高，使计算机已具有推广应用的价值，但计算机系统仍非常昂贵。**为了能够充分利用计算机，应尽量使系统连续运行，减少空闲时间，出现了批处理系统。（不具有交互性，只是为了提高CPU的利用率）**

批处理是指用户将一批作业提交给操作系统后就不再干预，由操作系统控制它们自动运行。事先把一批作业(程序与数据)存入磁带，并在系统上配上监督程序，在监督程序的作用下，使这批作业一个接一个的连续处理完成。
### 2.2、分时系统(Time Sharing System)
20世纪60年代出现的分时系统，分时系统是指在一台主机上连接多个带有显示器与键盘的终端，同时允许多个用户通过终端，以交互的方式使用计算机，共享主机中的资源。
**分时系统是计算机与终端用线路连接，这并不意味着计算机与计算机之间形成连接。**
### 2.3、计算机之间进行通信
20世界70年代，计算机间通信技术实现之前，两台计算机之间数据交换是通过外部存储介质实现（磁带等），非常繁琐。随着计算机体积趋小，价格降低，一般的企业也开始使用计算机来处理业务，为了提高工作效率，人们开始研究计算机之间的通信技术。
### 2.4、计算机网络产生
20世纪70年代初期，人们开始实验基于**分组交换技术**的计算机网络，并研究不同厂商计算机之间的通信技术。到了20世纪80年代，一种能够互联多种厂商计算机的网络诞生，
从大型计算机到小型个人电脑，它能够让各式各样的计算机相互连接。
### 2.5、互联网普及
到了20世纪90年代，信息传播方式如电子邮件Email，万维网WWW，发展迅猛，互联网从大到公司，小到家庭个人，都得到了广泛普及。
### 2.6、以互联网技术为中心的时代
互联网的普及与发展对通信领域产生了巨大影响。2000年以后，随着IP网取代电话网，能够联网的设备不仅是计算机，还扩展到了手机，家用电器，游戏机等设备。
### 2.7、从“单纯建立连接”到“安全建立连接”
互联网给人们带来一个高度便捷的网络信息环境的同时，也同样给人们带来很多负面影响（病毒侵害，信息泄露等），人们不再满足于互联网普及初期的“单纯建立连接”，而是更为追求“安全建立连接”的目标。
## 三、协议与协议分层（OSI参考模型）
协议：计算机之间通过网络实现通信时，事先达成的一种约定；这种约定使不同厂商生产的设备，不同CPU，不同操作系统组成的计算机之间，只要遵循相同的协议，就可以实现通信。（两台计算机之间必须能够支持相同的协议，并遵循相同的协议进行处理，才可以实现相互通信。）
[各层协议分工](https://github.com/daacheng/PythonBasic/blob/master/studynotes/%E3%80%8A%E5%9B%BE%E8%A7%A3HTTP%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%8D%8F%E8%AE%AE.md)
## 四、传输方式分类
### 4.1、面向有连接与面向无连接
**面向有连接型**：在发送数据之前，需要在收发主机之间建立一条通信线路。在通信传输前后，专门进行建立和断开连接的处理，可以避免发送无谓的数据。

**面向无连接型**：发送数据时候不需要建立连接，发送端可以在任何时候自由发送数据，即使接收端不存在，发送端也可以将数据发送出去。
### 4.2、电路交换与分组交换
**电路交换**：主要是用于过去的电话网，计算机在发送数据的时候，需要通过交换机与目标主机建立一条通信线路，连接建立好之后，发送主机与接收主机可以一直使用这条电路进行数据传输，直到连接断开。**电路交换中，两台主机之间的连接电路被占用了，其他计算机进行通信的话就必须等这两台计算机处理结束之后才可以使用这条电路进行通信。**

**分组交换**：计算机将要发送的数据分成多个数据包，按照一定的顺序分别发送，每个数据包的首部都写了发送端和接收端的地址，这样即使是同一条线路，也可以同时为多台计算机提供通信服务，可以明确区分每个分组数据发往的目的地。提高了通信线路的利用率。
 
**分组交换的处理过程**：计算机将数据分组发送给分组交换机（路由器），路由器收到这些分组数据以后，缓存到自己的缓冲区（队列，先进先出），再转发给目标计算机。
## 五、地址（MAC与IP）
**地址的唯一性**：一个地址必须明确表示一个主体对象，同一个通信网络中不允许有两个相同地址通信主体存在。

**地址的层次性**：MAC与IP地址都具有唯一性，但是只有IP地址具有层次性。  
**网络中通信地址越来越多，如何高效从一堆地址中找到通信的目标地址，这就需要地址具有层次性。** IP地址由网络号和主机号组成。IPv4是一个32位的地址，用4个十进制数字表示。以C类地址192.168.24.1为例，其中前24位是网络地址，后8位是主机地址。如果两个IP地址在同一个子网内，则网络地址一定相同。
## 六、网络构成要素
### 6.1、网卡(网络适配器、Network Interface Card)
它是连接计算机与网络的硬件设备，无论是光纤连接，还是电缆，都必须借助网卡才能实现数据的通信。</br>
网卡的主要功能：**一是将电脑的数据封装为帧，并通过网线（无线网络是电磁波）将数据发送到网络上。二是接收网络其他设备发送的帧，将帧重新组合成数据，发送到所在的电脑中**
### 6.2、中继器
**中继器是在局域网环境下用来延长网络物理距离最简单最廉价的设备，作用是将电缆传过来的电信号或光信号复制、调整、放大再传给另一个电缆，以此来解决线路传输过程中信号功率衰减的问题，延长网络的长度。**
### 6.3、二层交换机（网桥）
二层交换机工作于OSI模型的第二层数据链路层（物理层，数据链路层，网络层，传输层，会话层，表示层，应用层），**它可以识别数据包中的MAC地址信息，根据MAC地址进行转发，并将这些地址与对应的连接端口记录在自己内部的一个地址表中**

工作流程：</br>
1. 当交换机接收到来自某个端口传过来的数据包，先读取数据包中源MAC地址信息，这样就知道了源MAC地址是连接在哪个接口上。
2. 然后再读取数据包中的目的MAC信息，并在自己的地址表中查找目的MAC对应的接口是哪个。
3. 如果地址表中有目的MAC对应的端口，就直接把数据包复制到这个端口上，发送出去。
4. 如果地址表中没有目的MAC对应的端口，交换机就把数据广播到所有的端口，把数据发送出去。当目的计算机回应源计算机时，交换机这时候又可以在自己的地址表中记录目的MAC来自哪个端口。（二层交换机就是这样建立和维护自己的地址表）
### 6.4、三层交换机（路由器）
三层交换机工作于OSI模型中的第三层网络层，主要目的是加快大型局域网内部的数据交换。**二层交换机是根据MAC地址进行处理数据，三层交换机是根据IP进行处理数据。**
### 6.5、4~7层交换机
4~7层交换机主要处理OSI模型中从传输层到应用层数据。**对于并发访问量大的网站，使用一台服务器不足够满足前端的访问请求，这时会架设多台服务器来分担，但是这些访问请求的入口只有一个（企业只会向用户开放一个统一的访问URL），可以在这些服务器前端加一个负载均衡器，这样可以把将前端同一个URL发送的大量的访问请求分发到后台多个服务器去处理。这种负载均衡器就属于4~7层交换机**
### 6.6、网关
网关是从一个网络到另一个网络的关口，或者说是从一个网络通向其他网络的IP地址。**比如有网络A和网络B，A的IP范围是192.168.1.1~192.168.1.254，子网掩码255.255.255.0，B的IP范围是192.168.2.1~192.168.2.254，子网掩码为255.255.255.0。在没有路由器的情况下，A网络和B网络是不能进行TCP/IP通信的。TCP/IP协议会判定两个网络中的主机属于不同的网络。如果网络A中的主机发现数据包的目的主机不在
